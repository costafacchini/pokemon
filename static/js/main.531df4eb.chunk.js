(this.webpackJsonppokemon=this.webpackJsonppokemon||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(14),a=n.n(s),r=(n(32),n(33),n(16)),i=n(2),o=n(3),l=n(22),u=n(6),d=n.n(u),j=n(11);function b(e){return p.apply(this,arguments)}function p(){return(p=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.ok?n.json():n.text());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b("https://pokeapi.co/api/v2/pokemon/?offset=0&limit=1");case 3:return t=e.sent,e.next=6,b("https://pokeapi.co/api/v2/pokemon/?offset=0&limit=".concat(t.count));case 6:return n=e.sent,e.abrupt("return",n.results.sort(h));case 10:e.prev=10,e.t0=e.catch(0),console.error("Erro ao buscar a lista de pokemons",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function h(e,t){return e.name<t.name?-1:e.name>t.name?1:0}function f(e){return x.apply(this,arguments)}function x(){return(x=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],c=t.map(function(){var e=Object(j.a)(d.a.mark((function e(t){var c,s,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasOwnProperty("number")){e.next=5;break}return e.next=3,O(t.url);case 3:"Not Found"!==(c=e.sent)?n.push({abilities:null===(s=c.abilities)||void 0===s?void 0:s.map((function(e){return e.ability.name})),types:null===(a=c.types)||void 0===a?void 0:a.map((function(e){return e.type.name})),height:c.height,weight:c.weight,number:c.order,name:c.name,image:"https://pokeres.bastionbot.org/images/pokemon/".concat(c.id,".png"),id:c.id,images:{original:c.sprites.other["official-artwork"].front_default,alternative:c.sprites.other.dream_world.front_default},stats:null===(r=c.stats)||void 0===r?void 0:r.map((function(e){return{name:e.stat.name,value:e.base_stat}})),visible:!0}):n.push(Object(l.a)(Object(l.a)({},t),{},{visible:!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(c);case 5:return e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Erro ao buscar os detalhes dos pokemons",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function O(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(9),k=Object(g.b)({name:"pokemon",initialState:{basicList:[]},reducers:{loadBasicList:function(e,t){e.basicList=t.payload}}}),w=k.actions.loadBasicList,N=k.reducer,y=n(1);function L(e){var t=e.hability;return Object(y.jsx)("span",{className:"badge badge-secondary mr-1",children:t})}function S(e){var t=e.pokemon,n=t.images,c=t.name,s=t.number,a=t.abilities;return Object(y.jsx)("div",{className:"col mt-4",children:Object(y.jsx)("div",{className:"card shadow-sm border-0 rounded",children:Object(y.jsxs)("div",{className:"card-body p-0",children:[Object(y.jsx)("a",{href:"#/pokemon/".concat(c.toLowerCase()),children:Object(y.jsx)("img",{className:"card-img-top w-80 img-thumbnail",src:n.original,alt:""})}),Object(y.jsxs)("div",{className:"p-3",children:[Object(y.jsx)("h5",{className:"mb-0",children:c}),Object(y.jsx)("p",{className:"small text-muted",children:s}),Object(y.jsx)("ul",{className:"social mb-0 list-inline mt-3",children:a&&a.map((function(e,t){return Object(y.jsx)("li",{className:"list-inline-item m-0",children:Object(y.jsx)(L,{hability:e})},c+t)}))})]})]})})})}var I=n(13);function C(e){return e.toString().toUpperCase()}var F=Object(g.b)({name:"pokemonIndex",initialState:{pokemonsLoaded:[],pokemonsShowing:[],pokemonsFiltered:[],expression:"",page:1,filtered:!1},reducers:{addMore:function(e,t){e.pokemonsShowing=[].concat(Object(I.a)(e.pokemonsShowing),Object(I.a)(t.payload)),e.filtered||(e.pokemonsLoaded=[].concat(Object(I.a)(e.pokemonsLoaded),Object(I.a)(t.payload)))},setExpression:function(e,t){e.expression=t.payload},filter:function(e,t){var n=t.payload,c=n.expression,s=n.basicList;""===c?(e.pokemonsShowing=e.pokemonsLoaded,e.pokemonsFiltered=[],e.filtered=!1):(e.pokemonsShowing=[],e.pokemonsFiltered=s.filter((function(e){return function(e,t){var n=C(t);return C(e.name).includes(n)}(e,c)})),e.filtered=!0)},setPage:function(e,t){e.page=t.payload}}}),P=F.actions,E=P.addMore,B=P.filter,T=P.setExpression,A=P.setPage,D=(P.reset,F.reducer);function J(e){var t=e.basicList,n=Object(o.b)(),s=Object(o.c)((function(e){return e.pokemonIndex.pokemonsShowing})),a=Object(o.c)((function(e){return e.pokemonIndex.pokemonsFiltered})),r=Object(o.c)((function(e){return e.pokemonIndex.expression})),i=Object(o.c)((function(e){return e.pokemonIndex.page})),l=Object(o.c)((function(e){return e.pokemonIndex.filtered}));return Object(c.useEffect)((function(){if(t.length>0){var e=40*i,c=e-40;if(!l&&t.length>s.length&&s.length<e)f(t.slice(c,e)).then((function(e){n(E(e))}));l&&0===s.length&&f(a).then((function(e){n(E(e))}))}}),[n,t,i,s,r,l,a]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-4 pl-0",children:Object(y.jsx)("input",{className:"form-control",name:"expression",type:"text",value:r,placeholder:"Busque por nome ou n\xfamero",onChange:function(e){n(T(e.target.value))}})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){n(B({expression:r,basicList:t}))},children:"Buscar"})})]})}),Object(y.jsx)("section",{children:Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-36",children:Object(y.jsx)("div",{className:"row row-cols-1 row-cols-md-4",children:s&&s.filter((function(e){return!0===e.visible})).map((function(e){return Object(y.jsx)(S,{pokemon:e},e.id)}))})})}),""===r&&t.length>s.length&&Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col text-center mt-3",children:Object(y.jsx)("button",{type:"button",className:"btn btn-outline-primary d-print-none",onClick:function(){return n(A(i+1))},children:"Carregar mais"})})})]})})]})}var _=Object(g.b)({name:"pokemonShow",initialState:{pokemonData:{}},reducers:{setPokemon:function(e,t){e.pokemonData=t.payload}}}),U=_.actions.setPokemon,M=_.reducer,q=n(5),G=n.n(q),H=n(26);function V(e){var t=e.stats;return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"title-info",style:G.a.titleInfo,children:"ESTAT\xcdSTICAS"}),Object(y.jsx)(H.a,{chartType:"Bar",loader:Object(y.jsx)("div",{children:"Loading Chart"}),data:function(e){var t=[["Poderes","xp"]];return null===e||void 0===e||e.map((function(e){return t.push([e.name,e.value])})),t}(t),options:{width:525,height:200,bar:{groupWidth:"95%"},legend:{position:"none"}}})]})}function W(e){var t=e.title,n=e.value;return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"title-info",style:G.a.titleInfo,children:t.toUpperCase()}),Object(y.jsx)("div",{className:"value-info",style:G.a.valueInfo,children:n})]})}function z(e){var t=e.title,n=e.collection;return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"title-info",style:G.a.titleInfo,children:t.toUpperCase()}),n.map((function(e){return Object(y.jsx)("span",{className:"badge hability-info",style:G.a.habilityInfo,children:e},e)}))]})}function K(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return JSON.stringify(e)===JSON.stringify({})}function Q(e){var t=e.basicList,n=e.pokemonsShowing,s=Object(o.b)(),a=Object(o.c)((function(e){return e.pokemonShow.pokemonData})),r=Object(i.f)().pokemonId;return Object(c.useEffect)((function(){if(t.length>0){var e=n.find((function(e){return e.name===r}));if(e)s(U(e));else f([t.find((function(e){return e.name===r}))]).then((function(e){s(U(e[0]))}))}}),[s,t,r,n]),Object(y.jsxs)(y.Fragment,{children:[K(a)&&Object(y.jsxs)("h3",{children:[r," n\xe3o encontrado"]}),!K(a)&&Object(y.jsxs)("div",{className:"container",children:[Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-6",children:Object(y.jsx)("img",{src:a.images.original,alt:""})}),Object(y.jsx)("div",{className:"col-6",children:Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("h1",{children:a.name})})}),Object(y.jsxs)("div",{className:"row row-info",style:G.a.rowInfo,children:[Object(y.jsx)("div",{className:"col-4",children:Object(y.jsx)(W,{title:"N\xfamero",value:a.number})}),Object(y.jsx)("div",{className:"col-4",children:Object(y.jsx)(W,{title:"Altura",value:a.height})}),Object(y.jsx)("div",{className:"col-4",children:Object(y.jsx)(W,{title:"Peso",value:a.weight})})]}),Object(y.jsxs)("div",{className:"row row-info",style:G.a.rowInfo,children:[Object(y.jsx)("div",{className:"col-6",children:Object(y.jsx)(z,{title:"Habilidades",collection:a.abilities})}),Object(y.jsx)("div",{className:"col-6",children:Object(y.jsx)(z,{title:"Tipos",collection:a.types})})]}),Object(y.jsx)("div",{className:"row row-graph",style:G.a.rowGraph,children:Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)(V,{stats:a.stats})})})]})})]}),Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-12 text-center",children:Object(y.jsx)("button",{className:"btn btn-primary btn-lg",onClick:function(){window.history.back()},children:"Voltar"})})})]})]})}function R(e){var t=e.basicList,n=Object(o.c)((function(e){return e.pokemonIndex.pokemonsShowing})),c=Object(i.g)();return Object(y.jsxs)(i.c,{children:[Object(y.jsx)(i.a,{path:"".concat(c.path,"/:pokemonId"),children:Object(y.jsx)(Q,{basicList:t,pokemonsShowing:n})}),Object(y.jsx)(i.a,{exact:!0,path:"".concat(c.path),children:Object(y.jsx)(J,{basicList:t})})]})}function X(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.pokemon.basicList}));return Object(c.useEffect)((function(){0===t.length&&function(){return m.apply(this,arguments)}().then((function(t){e(w(t))}))}),[e,t]),Object(y.jsx)(r.a,{children:Object(y.jsxs)(i.c,{children:[Object(y.jsx)(i.a,{path:"/pokemon",children:Object(y.jsx)(R,{basicList:t})}),Object(y.jsx)(i.a,{path:"/",children:Object(y.jsx)(J,{basicList:t})})]})})}function Y(){return Object(y.jsx)(X,{})}var Z=function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(y.jsx)("button",{className:"navbar-brand",children:Object(y.jsx)("img",{className:"navbar-brand",src:"https://assets.pokemon.com/assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png",alt:""})})}),Object(y.jsx)(Y,{})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))},ee=(n(41),Object(g.a)({reducer:{pokemon:N,pokemonIndex:D,pokemonShow:M}}));a.a.render(Object(y.jsx)(o.a,{store:ee,children:Object(y.jsx)(Z,{})}),document.getElementById("root")),$()},5:function(e,t,n){}},[[42,1,2]]]);
//# sourceMappingURL=main.531df4eb.chunk.js.map